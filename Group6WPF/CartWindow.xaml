<Window x:Class="Group6WPF.CartWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Group6WPF"
        mc:Ignorable="d"
        Title="Giỏ hàng - FUMiniTiki" Height="800" Width="1500"
        Background="#F5F5FA"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize" Loaded="Window_Loaded">

    <DockPanel Width="1200" HorizontalAlignment="Center" Background="White">

        <!-- HEADER -->
        <Border DockPanel.Dock="Top" Height="70" Background="White" BorderBrush="#EBEBF0" BorderThickness="0,0,0,1">
            <Grid VerticalAlignment="Center">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Logo as a button -->
                <Button Grid.Column="0"
            Background="Transparent"
            BorderThickness="0"
            Cursor="Hand"
            ToolTip="Back to Home"
            Click="LogoButton_Click"
            Margin="20,0,10,0"
            Width="110"
            Height="40">
                    <Image Source="Assets/tiki.png" Stretch="Uniform"/>
                </Button>

                <!-- Search -->
                <Border Grid.Column="1" Height="40" Margin="20,0" VerticalAlignment="Center"
Background="#F8F8FF" BorderBrush="{StaticResource BorderColor}" 
BorderThickness="1" CornerRadius="8">
                    <TextBox x:Name="SearchTextBox" Height="38" Padding="15,0" FontSize="14" BorderThickness="0"
     Background="Transparent" VerticalAlignment="Center"
     Text="Search product by name..."
     Foreground="{StaticResource TextSecondary}" LostFocus="SearchTextBox_LostFocus" GotFocus="SearchTextBox_GotFocus" KeyDown="SearchTextBox_KeyDown"/>
                </Border>

                <!-- Account Icon -->
                <Button x:Name="btnProfile" Grid.Column="3" Margin="10,0" Width="40" Height="40"
                Background="Transparent" BorderThickness="0" ToolTip="Account"
                Cursor="Hand" Click="btnProfile_Click">
                    <Image Source="Assets/account.png" Stretch="Uniform"/>
                </Button>

                <!-- Cart Icon -->
                <Grid Grid.Column="4" Margin="10,0">
                    <Button x:Name="btnViewCart" Width="40" Height="40"
        Background="Transparent" BorderThickness="0" ToolTip="Shopping Cart"
        Cursor="Hand" Click="btnViewCart_Click">
                        <Image Source="Assets/cart.png" Stretch="Uniform"/>
                    </Button>

                    <!-- Cart Count Badge -->
                    <Border x:Name="CartBadge" 
        Width="20" Height="20" 
        CornerRadius="10"
        Background="#FF424E"
        HorizontalAlignment="Right" 
        VerticalAlignment="Top"
        Margin="0,-5,-5,0"
        Visibility="Collapsed">
                        <TextBlock x:Name="CartCountText" 
               Text="0" 
               Foreground="White" 
               FontSize="10" 
               FontWeight="Bold"
               HorizontalAlignment="Center" 
               VerticalAlignment="Center"/>
                    </Border>
                </Grid>
            </Grid>
        </Border>

        <!-- MAIN CONTENT AREA -->
        <Grid Margin="30,20,30,30">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="350"/>
            </Grid.ColumnDefinitions>

            <!-- LEFT: Cart Items -->
            <ScrollViewer Grid.Column="0" VerticalScrollBarVisibility="Auto" Margin="0,0,20,0">
                <StackPanel>

                    <!-- Cart Header -->
                    <Border Background="White" CornerRadius="12" BorderBrush="{StaticResource BorderColor}" 
                           BorderThickness="1" Margin="0,0,0,20" Padding="25">
                        <StackPanel>
                            <TextBlock Text="🛒 Your Cart" FontSize="24" FontWeight="Bold"
                                      Foreground="{StaticResource TextPrimary}" Margin="0,0,0,10"/>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock x:Name="ItemCountTextBlock" Text="3 Items" 
                                          Foreground="{StaticResource TextSecondary}" FontSize="14"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <!-- Empty Cart Message -->
                    <Border x:Name="EmptyCartPanel" Background="White" CornerRadius="12" 
                           BorderBrush="{StaticResource BorderColor}" BorderThickness="1" 
                           Padding="40" HorizontalAlignment="Center" VerticalAlignment="Center"
                           Visibility="Collapsed">
                        <StackPanel HorizontalAlignment="Center">
                            <TextBlock Text="🛒" FontSize="60" HorizontalAlignment="Center" Margin="0,0,0,20"/>
                            <TextBlock Text="Your cart is empty" FontSize="18" FontWeight="SemiBold"
                                      HorizontalAlignment="Center" Foreground="{StaticResource TextPrimary}" Margin="0,0,0,10"/>
                            <TextBlock Text="Please add to cart" 
                                      HorizontalAlignment="Center" Foreground="{StaticResource TextSecondary}" Margin="0,0,0,20"/>
                            <Button Content="Continue Shopping" Style="{StaticResource ModernButtonStyle}" 
                                   Click="ContinueShoppingButton_Click"/>
                        </StackPanel>
                    </Border>

                    <!-- Cart Items Container -->
                    <StackPanel x:Name="CartItemsPanel">
                        <!-- Cart items will be added here dynamically -->
                    </StackPanel>

                </StackPanel>
            </ScrollViewer>

            <!-- RIGHT: Order Summary -->
            <Border Grid.Column="1" Background="White" CornerRadius="12" 
                   BorderBrush="{StaticResource BorderColor}" BorderThickness="1"
                   VerticalAlignment="Top">
                <Border.Effect>
                    <DropShadowEffect Color="Gray" Direction="315" ShadowDepth="2" 
                                    Opacity="0.1" BlurRadius="10"/>
                </Border.Effect>
                <StackPanel Margin="25">

                    <!-- Order Summary Title -->
                    <TextBlock Text="Cart Details" FontSize="18" FontWeight="Bold"
                              Foreground="{StaticResource TextPrimary}" Margin="0,0,0,20"/>

                    <!-- Price Breakdown -->
                    <StackPanel Margin="0,0,0,15">
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                            <TextBlock Text="Tạm tính:" Foreground="{StaticResource TextSecondary}"/>
                            <TextBlock x:Name="SubtotalTextBlock" Text="0đ" HorizontalAlignment="Right" 
                                      Foreground="{StaticResource TextPrimary}" FontWeight="SemiBold"/>
                        </StackPanel>
                    </StackPanel>

                    <Separator Background="{StaticResource BorderColor}" Margin="0,10"/>

                    <!-- Total -->
                    <StackPanel Orientation="Horizontal" Margin="0,15,0,20">
                        <TextBlock Text="Tổng cộng:" FontSize="16" FontWeight="Bold" 
                                  Foreground="{StaticResource TextPrimary}"/>
                        <TextBlock x:Name="TotalTextBlock" Text="0đ" HorizontalAlignment="Right" 
                                  FontSize="18" FontWeight="Bold" Foreground="{StaticResource TikiRed}"/>
                    </StackPanel>

                    <!-- Promo Code -->
                    <Border BorderBrush="{StaticResource BorderColor}" BorderThickness="1" 
                           CornerRadius="8" Margin="0,0,0,20">
                    </Border>

                    <!-- Checkout Button -->
                    <Button x:Name="CheckoutButton" Content="Checkout" 
                           Style="{StaticResource ModernButtonStyle}"
                           Background="{StaticResource TikiRed}" Height="50" FontSize="16"
                           Margin="0,0,0,15" Click="CheckoutButton_Click"/>

                    <!-- Continue Shopping -->
                    <Button Content="Continue Shopping" 
                           Style="{StaticResource ModernButtonStyle}"
                           Background="Transparent" Foreground="{StaticResource TikiBlue}"
                           BorderBrush="{StaticResource TikiBlue}" BorderThickness="2"
                           Click="ContinueShoppingButton_Click"/>

                </StackPanel>
            </Border>

        </Grid>

    </DockPanel>
</Window>