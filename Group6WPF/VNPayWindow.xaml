<Window x:Class="Group6WPF.VNPayWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
        Title="VNPay Payment" Height="800" Width="1000"
        WindowStartupLocation="CenterScreen"
        Loaded="Window_Loaded">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#1976D2" Height="60">
            <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="20,0">
                <Image Source="Assets/vnpay.jpg" Width="40" Height="40" Margin="0,0,10,0"/>
                <TextBlock Text="VNPay Payment Gateway" Foreground="White" FontSize="18" FontWeight="Bold" VerticalAlignment="Center"/>
            </StackPanel>
        </Border>

        <!-- WebView2 for VNPay -->
        <wv2:WebView2 x:Name="webView" Grid.Row="1" NavigationCompleted="WebView_NavigationCompleted"/>

        <!-- Loading indicator -->
        <Border x:Name="LoadingPanel" Grid.Row="1" Background="White" Visibility="Visible">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                <ProgressBar Width="200" Height="20" IsIndeterminate="True" Margin="0,0,0,20"/>
                <TextBlock Text="Loading VNPay Payment..." HorizontalAlignment="Center" FontSize="16"/>
            </StackPanel>
        </Border>

        <!-- Footer -->
        <Border Grid.Row="2" Background="#F5F5F5" Height="50" BorderBrush="#E0E0E0" BorderThickness="0,1,0,0">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                <Button x:Name="CancelButton" Content="Cancel Payment" Width="120" Height="35" 
                        Background="#FF5722" Foreground="White" BorderThickness="0" 
                        Click="CancelButton_Click" Margin="0,0,10,0"/>
                <TextBlock Text="Secure payment powered by VNPay" VerticalAlignment="Center" 
                          Foreground="#666" FontSize="12" Margin="10,0,0,0"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>